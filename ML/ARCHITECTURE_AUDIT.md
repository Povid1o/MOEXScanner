# üîç –ê–£–î–ò–¢ –ê–†–•–ò–¢–ï–ö–¢–£–†–´ ML –ü–ò–ü–ï–õ–ê–ô–ù–ê
## Senior ML Developer & Project Manager Review

**–î–∞—Ç–∞:** 2025-12-03  
**–í–µ—Ä—Å–∏—è —Å—Ö–µ–º—ã:** v2.0 (–ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º–∞—è)  
**–í–µ—Ä—Å–∏—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:** v2.0 (—Ç–µ–∫—É—â–∞—è)

---

## üìä –ò–¢–û–ì–û–í–ê–Ø –°–¢–ê–¢–ò–°–¢–ò–ö–ê

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ | üü° –ß–∞—Å—Ç–∏—á–Ω–æ | ‚ùå –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ | –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ |
|-----------|----------------|-------------|-------------------|--------------|
| **–ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö** | 1 | 0 | 1 | 50% |
| **–ë–∞–∑–æ–≤–∞—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å** | 3 | 1 | 0 | 100% |
| **Intraday H1** | 0 | 0 | 5 | 0% |
| **Volume Profile** | 3 | 0 | 1 | 75% |
| **–û–±—ä–µ–º—ã** | 3 | 0 | 0 | 100% |
| **–ò–Ω–¥–µ–∫—Å (IMOEX)** | 2 | 0 | 0 | 100% |
| **–¢—Ä–µ–Ω–¥** | 5 | 0 | 0 | 100% |
| **–ú–æ–¥–µ–ª–∏** | 2 | 0 | 1 | 67% |
| **Ensemble** | 0 | 1 | 0 | 50% |
| **Intraday Adjuster** | 0 | 0 | 1 | 0% |
| **Early Warning** | 0 | 0 | 1 | 0% |
| **Output/API** | 1 | 1 | 1 | 50% |
| **SHAP** | 0 | 1 | 0 | 50% |
| **–ò–¢–û–ì–û** | **20** | **4** | **11** | **~65%** |

---

## 1Ô∏è‚É£ –ò–°–¢–û–ß–ù–ò–ö–ò –î–ê–ù–ù–´–•

### ‚úÖ OHLCV D1 ‚Üí Log Returns
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ü–û–õ–ù–û–°–¢–¨–Æ –†–ï–ê–õ–ò–ó–û–í–ê–ù–û**

**–ì–¥–µ:**
- `01_data_loading.ipynb` - –∑–∞–≥—Ä—É–∑–∫–∞ –∏ —Ä–∞—Å—á—ë—Ç log_return
- `features/Loaders/load_prices.py` - API –∑–∞–≥—Ä—É–∑–∫–∞
- `features/Loaders/price_cleaner.py` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ—Ä–ø. –¥–µ–π—Å—Ç–≤–∏–π

**–§—É–Ω–∫—Ü–∏–∏:**
```python
calculate_log_returns(prices)  # log(P_t / P_{t-1})
```

**–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ö–µ–º–µ:** ‚úÖ 100%

---

### ‚ùå OHLCV H1 ‚Üí Intraday Features
**–°—Ç–∞—Ç—É—Å:** ‚ùå **–ù–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù–û**

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –î–∞–Ω–Ω—ã–µ H1 –µ—Å—Ç—å –≤ `data/MOEX_DATA/{TICKER}/1H/`
- –ù–û: –Ω–µ—Ç –º–æ–¥—É–ª—è `intraday_features.py`
- –ù–û: –Ω–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –≤ `feature_builder.py`

**–ß—Ç–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç:**
- `IVR` (Intraday Vol Realized)
- `OPM` (Opening Momentum)
- `VDS` (Vol Distribution Skew)
- `PRC` (Price Reversal Count)
- `POCS` (POC Shift Intraday)

**–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ö–µ–º–µ:** ‚ùå 0%

---

## 2Ô∏è‚É£ –ë–ê–ó–û–í–ê–Ø –í–û–õ–ê–¢–ò–õ–¨–ù–û–°–¢–¨ (D1)

### ‚úÖ Parkinson Vol
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–†–ï–ê–õ–ò–ó–û–í–ê–ù–û**

**–ì–¥–µ:** `features/volatility_features.py`
```python
parkinson_volatility(high, low, window=20)
# –§–æ—Ä–º—É–ª–∞: sqrt(mean(log(H/L)^2) / (4*ln(2))) * sqrt(252)
```

**–ü—Ä–∏–∑–Ω–∞–∫–∏:** `parkinson_vol_10d`, `parkinson_vol_20d`

**–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ö–µ–º–µ:** ‚úÖ 100%

---

### ‚úÖ Garman-Klass Vol
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–†–ï–ê–õ–ò–ó–û–í–ê–ù–û**

**–ì–¥–µ:** `features/volatility_features.py`
```python
garman_klass_volatility(open, high, low, close, window=20)
# –§–æ—Ä–º—É–ª–∞: sqrt(mean(0.5*log(H/L)^2 - (2*ln(2)-1)*log(C/O)^2)) * sqrt(252)
```

**–ü—Ä–∏–∑–Ω–∞–∫–∏:** `gk_vol_10d`, `gk_vol_20d`

**–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ö–µ–º–µ:** ‚úÖ 100%

---

### ‚úÖ RV_5d, RV_20d
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–†–ï–ê–õ–ò–ó–û–í–ê–ù–û**

**–ì–¥–µ:** `features/volatility_features.py`
```python
realized_volatility(returns, window=5)  # rv_5d
realized_volatility(returns, window=20) # rv_20d
```

**–ü—Ä–∏–∑–Ω–∞–∫–∏:** `rv_5d`, `rv_10d`, `rv_20d`

**–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ö–µ–º–µ:** ‚úÖ 100%

---

### ‚úÖ EWMA Vol
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–†–ï–ê–õ–ò–ó–û–í–ê–ù–û**

**–ì–¥–µ:** `features/volatility_features.py`
```python
ewma_volatility(returns, span=10)  # ewma_vol_10d
ewma_volatility(returns, span=20)  # ewma_vol_20d
```

**–ü—Ä–∏–∑–Ω–∞–∫–∏:** `ewma_vol_10d`, `ewma_vol_20d`

**–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ö–µ–º–µ:** ‚úÖ 100%

---

## 3Ô∏è‚É£ –í–ù–£–¢–†–ò–î–ù–ï–í–ù–´–ï –§–ò–ß–ò (H1)

### ‚ùå –í–°–ï 5 –ö–û–ú–ü–û–ù–ï–ù–¢–û–í –û–¢–°–£–¢–°–¢–í–£–Æ–¢

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
|-----------|--------|-------------|
| `IVR` (Intraday Vol Realized) | ‚ùå | –ù–µ—Ç –º–æ–¥—É–ª—è |
| `OPM` (Opening Momentum) | ‚ùå | –ù–µ—Ç –º–æ–¥—É–ª—è |
| `VDS` (Vol Distribution Skew) | ‚ùå | –ù–µ—Ç –º–æ–¥—É–ª—è |
| `PRC` (Price Reversal Count) | ‚ùå | –ù–µ—Ç –º–æ–¥—É–ª—è |
| `POCS` (POC Shift Intraday) | ‚ùå | –ù–µ—Ç –º–æ–¥—É–ª—è |

**–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ö–µ–º–µ:** ‚ùå 0%

**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üî¥ **–í–´–°–û–ö–ê–Ø** - —ç—Ç–æ –∫–ª—é—á–µ–≤–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è —Ç–æ—á–Ω–æ—Å—Ç–∏

---

## 4Ô∏è‚É£ VOLUME PROFILE

### ‚úÖ VP D1
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–†–ï–ê–õ–ò–ó–û–í–ê–ù–û**

**–ì–¥–µ:** `features/volume_features.py`
```python
calculate_volume_profile_normalized(df, window=20, num_bins=50)
```

**–ü—Ä–∏–∑–Ω–∞–∫–∏:**
- `vp_position` - –ø–æ–∑–∏—Ü–∏—è —Ü–µ–Ω—ã –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ POC (–Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–æ)
- `vp_width_pct` - —à–∏—Ä–∏–Ω–∞ Value Area (%)
- `vp_above_va` - –∫–∞—Ç–µ–≥–æ—Ä–∏–∞–ª—å–Ω—ã–π (-1/0/1)

**–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ö–µ–º–µ:** ‚úÖ 100%

---

### ‚ùå VP H1
**–°—Ç–∞—Ç—É—Å:** ‚ùå **–ù–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù–û**

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ—Ç –≤–Ω—É—Ç—Ä–∏–¥–Ω–µ–≤–Ω–æ–≥–æ Volume Profile

**–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ö–µ–º–µ:** ‚ùå 0%

---

### ‚úÖ POC Distance
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–†–ï–ê–õ–ò–ó–û–í–ê–ù–û** (—á–µ—Ä–µ–∑ `vp_position`)

**–ì–¥–µ:** `features/volume_features.py`
- `vp_position` = (close - POC) / VA_width

**–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ö–µ–º–µ:** ‚úÖ 100%

---

### ‚úÖ VA Position
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–†–ï–ê–õ–ò–ó–û–í–ê–ù–û**

**–ì–¥–µ:** `features/volume_features.py`
- `vp_above_va` = 1 (–≤—ã—à–µ VA High), 0 (–≤–Ω—É—Ç—Ä–∏), -1 (–Ω–∏–∂–µ VA Low)

**–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ö–µ–º–µ:** ‚úÖ 100%

---

## 5Ô∏è‚É£ –û–ë–™–ï–ú–´

### ‚úÖ Volume MA
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–†–ï–ê–õ–ò–ó–û–í–ê–ù–û** (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Ä–∞—Å—á—ë—Ç)

**–ì–¥–µ:** `features/volume_features.py`
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ `volume_zscore()` –∏ `volume_ratio()`

**–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ö–µ–º–µ:** ‚úÖ 100%

---

### ‚úÖ Volume Z-Score
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–†–ï–ê–õ–ò–ó–û–í–ê–ù–û**

**–ì–¥–µ:** `features/volume_features.py`
```python
volume_zscore(volume, window=20)  # volume_zscore_20
volume_zscore(volume, window=60)  # volume_zscore_60
```

**–ü—Ä–∏–∑–Ω–∞–∫–∏:** `volume_zscore_20`, `volume_zscore_60`

**–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ö–µ–º–µ:** ‚úÖ 100%

---

### ‚úÖ Volume Spike
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–†–ï–ê–õ–ò–ó–û–í–ê–ù–û**

**–ì–¥–µ:** `features/volume_features.py`
```python
volume_spike(volume, threshold=2.0, window=20)
# –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç 1 –µ—Å–ª–∏ z-score > 2.0
```

**–ü—Ä–∏–∑–Ω–∞–∫:** `volume_spike`

**–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ö–µ–º–µ:** ‚úÖ 100%

---

## 6Ô∏è‚É£ –ò–ù–î–ï–ö–° (IMOEX)

### ‚úÖ Beta Coef
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–†–ï–ê–õ–ò–ó–û–í–ê–ù–û**

**–ì–¥–µ:** `features/market_features.py`
```python
calculate_beta(stock_returns, market_returns, window=60)
```

**–ü—Ä–∏–∑–Ω–∞–∫–∏:** `beta_30d`, `beta_60d`, `beta_change`

**–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ö–µ–º–µ:** ‚úÖ 100%

---

### ‚úÖ Correlation
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–†–ï–ê–õ–ò–ó–û–í–ê–ù–û**

**–ì–¥–µ:** `features/market_features.py`
```python
calculate_correlation(stock_returns, market_returns, window=60)
```

**–ü—Ä–∏–∑–Ω–∞–∫–∏:** `correlation_30d`, `correlation_60d`

**–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ö–µ–º–µ:** ‚úÖ 100%

---

### ‚úÖ Index Volatility
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–†–ï–ê–õ–ò–ó–û–í–ê–ù–û**

**–ì–¥–µ:** `features/market_features.py`
```python
market_volatility(market_returns, window=30)
```

**–ü—Ä–∏–∑–Ω–∞–∫–∏:** `index_vol_30d`, `index_vol_60d`

**–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ö–µ–º–µ:** ‚úÖ 100%

---

## 7Ô∏è‚É£ –¢–†–ï–ù–î

### ‚úÖ SMA 20, 50, 200
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–†–ï–ê–õ–ò–ó–û–í–ê–ù–û**

**–ì–¥–µ:** `features/trend_features.py`
- –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Ä–∞—Å—á—ë—Ç, —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è

**–ü—Ä–∏–∑–Ω–∞–∫–∏:**
- `dist_to_sma_20`, `dist_to_sma_50`, `dist_to_sma_200`
- `dist_to_ema_20`, `dist_to_ema_50`

**–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ö–µ–º–µ:** ‚úÖ 100%

---

### ‚úÖ Trend Logic
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–†–ï–ê–õ–ò–ó–û–í–ê–ù–û**

**–ì–¥–µ:** `features/trend_features.py`
```python
trend_signal(ma_short, ma_long, threshold=0.01)
trend_strength(ma_short, ma_long)
price_position_ma(prices, ma_short, ma_long)
```

**–ü—Ä–∏–∑–Ω–∞–∫–∏:** `trend_signal`, `trend_strength`, `price_position_ma`

**–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ö–µ–º–µ:** ‚úÖ 100%

---

### ‚úÖ Momentum, RSI
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–†–ï–ê–õ–ò–ó–û–í–ê–ù–û**

**–ì–¥–µ:** `features/trend_features.py`
- `momentum_10`, `momentum_20` (log returns)
- `rsi_14` (RSI –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä)

**–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ö–µ–º–µ:** ‚úÖ 100%

---

## 8Ô∏è‚É£ –ú–û–î–ï–õ–ò

### ‚úÖ GARCH Model
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–†–ï–ê–õ–ò–ó–û–í–ê–ù–û**

**–ì–¥–µ:** `03_models/02_garch_model.ipynb`
- GARCH(1,1) Skewed-t
- Walk-forward –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥–Ω–æ–∑–æ–≤: `{ticker}_garch_forecasts.parquet`

**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç:**
- ‚úÖ `log_return` (returns)
- ‚ùå –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç PV, GK –Ω–∞–ø—Ä—è–º—É—é (—Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ returns)

**–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ö–µ–º–µ:** üü° 80% (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç PV/GK –∫–∞–∫ –≤—Ö–æ–¥—ã)

---

### ‚úÖ LightGBM Models (q16/q50/q84)
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–†–ï–ê–õ–ò–ó–û–í–ê–ù–û**

**–ì–¥–µ:** `03_models/train_global_model.py`
- –ì–ª–æ–±–∞–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å –Ω–∞ –≤—Å–µ—Ö —Ç–∏–∫–µ—Ä–∞—Ö
- 3 –∫–≤–∞–Ω—Ç–∏–ª—è: 0.16, 0.50, 0.84
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ: `global_lgbm_q16.txt`, `global_lgbm_q50.txt`, `global_lgbm_q84.txt`

**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç:**
- ‚úÖ `rv_5d`, `rv_20d` (—á–µ—Ä–µ–∑ volatility_features)
- ‚úÖ `ewma_vol_*` (—á–µ—Ä–µ–∑ volatility_features)
- ‚úÖ `vp_position`, `vp_above_va` (Volume Profile)
- ‚úÖ `volume_zscore_*` (Volume Z-Score)
- ‚úÖ `beta_*`, `correlation_*` (Market features)
- ‚ùå –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç PV, GK –Ω–∞–ø—Ä—è–º—É—é (–Ω–æ –æ–Ω–∏ –µ—Å—Ç—å –≤ —Ñ–∏—á–∞—Ö!)

**–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ö–µ–º–µ:** ‚úÖ 95% (–≤—Å–µ —Ñ–∏—á–∏ –µ—Å—Ç—å, –Ω–æ –Ω–µ –≤—Å–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —è–≤–Ω–æ)

---

### ‚ùå Ensemble
**–°—Ç–∞—Ç—É—Å:** üü° **–ß–ê–°–¢–ò–ß–ù–û –†–ï–ê–õ–ò–ó–û–í–ê–ù–û**

**–ì–¥–µ:** `03_models/04_ensemble_model.ipynb`

**–ü—Ä–æ–±–ª–µ–º—ã:**
1. ‚ùå –¢–æ–ª—å–∫–æ notebook, –Ω–µ—Ç production –º–æ–¥—É–ª—è
2. ‚ùå –ù–ï –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ `inference.py`
3. ‚ùå –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `run_backtest_pipeline.py`
4. üü° –ü—Ä–æ—Å—Ç–æ–µ –≤–∑–≤–µ—à–µ–Ω–Ω–æ–µ —Å—Ä–µ–¥–Ω–µ–µ (–Ω–µ—Ç –∞–¥–∞–ø—Ç–∏–≤–Ω–æ–≥–æ –≤–∑–≤–µ—à–∏–≤–∞–Ω–∏—è)

**–ß—Ç–æ –µ—Å—Ç—å:**
- –§—É–Ω–∫—Ü–∏—è `create_ensemble()` —Å –≤–µ—Å–∞–º–∏
- –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–≥–Ω–æ–∑–æ–≤ GARCH –∏ LightGBM

**–ß—Ç–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç:**
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ production pipeline
- –ê–¥–∞–ø—Ç–∏–≤–Ω–æ–µ –≤–∑–≤–µ—à–∏–≤–∞–Ω–∏–µ –ø–æ –º–µ—Ç—Ä–∏–∫–∞–º
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ backtesting

**–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ö–µ–º–µ:** üü° 40%

---

## 9Ô∏è‚É£ –ù–û–í–´–ï –ö–û–ú–ü–û–ù–ï–ù–¢–´

### ‚ùå Intraday Adjuster
**–°—Ç–∞—Ç—É—Å:** ‚ùå **–ù–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù–û**

**–ß—Ç–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:**
- –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –ø—Ä–æ–≥–Ω–æ–∑–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 6 —á–∞—Å–æ–≤
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ IVR, OPM, VDS, PRC

**–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ö–µ–º–µ:** ‚ùå 0%

---

### ‚ùå Early Warning System
**–°—Ç–∞—Ç—É—Å:** ‚ùå **–ù–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù–û**

**–ß—Ç–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:**
- Real-time –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ H1 –¥–∞–Ω–Ω—ã—Ö
- –ê–ª–µ—Ä—Ç—ã –Ω–∞ –∞–Ω–æ–º–∞–ª–∏–∏ (Volume Spike, POC Shift)

**–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ö–µ–º–µ:** ‚ùå 0%

---

## üîü –í–´–í–û–î –ò –°–ò–ì–ù–ê–õ–´

### ‚úÖ Price Channels (¬±1œÉ, ¬±2œÉ)
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–†–ï–ê–õ–ò–ó–û–í–ê–ù–û**

**–ì–¥–µ:** `04_backtesting/run_backtest_pipeline.py`
```python
# –î–µ–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –∫–≤–∞–Ω—Ç–∏–ª–µ–π –≤ —Ü–µ–Ω–æ–≤—ã–µ —É—Ä–æ–≤–Ω–∏
upper_band_1sigma = close * (1 + pred_q84)
lower_band_1sigma = close * (1 + pred_q16)
```

**–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ö–µ–º–µ:** ‚úÖ 100%

---

### ‚úÖ Signal Generation
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–†–ï–ê–õ–ò–ó–û–í–ê–ù–û**

**–ì–¥–µ:** `04_backtesting/run_backtest_pipeline.py`
- –°—Ç—Ä–∞—Ç–µ–≥–∏—è "Mean Reversion in Trend"
- –§–∏–ª—å—Ç—Ä—ã –ø–æ Volume, VA Position
- –°—Ç–æ–ø-–ª–æ—Å—Å—ã

**–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ö–µ–º–µ:** ‚úÖ 100%

---

### üü° SHAP Explainer
**–°—Ç–∞—Ç—É—Å:** üü° **–ß–ê–°–¢–ò–ß–ù–û –†–ï–ê–õ–ò–ó–û–í–ê–ù–û**

**–ì–¥–µ:** `05_explainability/01_shap_explainer.ipynb`

**–ü—Ä–æ–±–ª–µ–º—ã:**
- ‚ùå –¢–æ–ª—å–∫–æ notebook, –Ω–µ—Ç production –º–æ–¥—É–ª—è
- ‚ùå –ù–ï –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ API/Output
- ‚ùå –ù–ï –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ inference pipeline

**–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ö–µ–º–µ:** üü° 30%

---

### ‚ùå API Response
**–°—Ç–∞—Ç—É—Å:** ‚ùå **–ù–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù–û**

**–ß—Ç–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç:**
- REST API endpoint
- JSON response —Å –ø—Ä–æ–≥–Ω–æ–∑–∞–º–∏
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å backend (Go)

**–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ö–µ–º–µ:** ‚ùå 0%

---

## üìã –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–†–û–ë–õ–ï–ú–´

### üî¥ –ö–†–ò–¢–ò–ß–ù–û (–ë–ª–æ–∫–∏—Ä—É–µ—Ç production)

1. **‚ùå Ensemble –Ω–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω**
   - –ï—Å—Ç—å —Ç–æ–ª—å–∫–æ notebook
   - –ù–µ—Ç –≤ `inference.py`
   - –ù–µ—Ç –≤ backtesting pipeline

2. **‚ùå Intraday H1 —Ñ–∏—á–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç**
   - 0 –∏–∑ 5 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
   - –î–∞–Ω–Ω—ã–µ –µ—Å—Ç—å, –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è

3. **‚ùå API –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç**
   - –ù–µ—Ç REST endpoint
   - –ù–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å backend

---

### üü° –í–ê–ñ–ù–û (–°–Ω–∏–∂–∞–µ—Ç –∫–∞—á–µ—Å—Ç–≤–æ)

4. **üü° SHAP –Ω–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω**
   - –ï—Å—Ç—å notebook, –Ω–æ –Ω–µ—Ç production –º–æ–¥—É–ª—è

5. **üü° GARCH –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç PV/GK –Ω–∞–ø—Ä—è–º—É—é**
   - –†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ returns
   - –ú–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å, –¥–æ–±–∞–≤–∏–≤ PV/GK –∫–∞–∫ –≤—Ö–æ–¥—ã

6. **‚ùå Intraday Adjuster –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç**
   - –ù–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏ –ø—Ä–æ–≥–Ω–æ–∑–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ H1 –¥–∞–Ω–Ω—ã—Ö

7. **‚ùå Early Warning System –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç**
   - –ù–µ—Ç real-time –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

---

## ‚úÖ –°–ò–õ–¨–ù–´–ï –°–¢–û–†–û–ù–´

1. **‚úÖ –ü–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä –±–∞–∑–æ–≤—ã—Ö —Ñ–∏—á–µ–π**
   - Volatility (PV, GK, RV, EWMA) - 100%
   - Volume Profile - 100%
   - Market (Beta, Correlation) - 100%
   - Trend - 100%

2. **‚úÖ –ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**
   - –ú–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
   - –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–∑–Ω–∞–∫–æ–≤
   - –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ ML/Backtest –¥–∞–Ω–Ω—ã—Ö

3. **‚úÖ Production-ready –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**
   - `inference.py` - –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
   - `train_global_model.py` - –ø–æ–ª–Ω—ã–π pipeline
   - `run_backtest_pipeline.py` - —Å—Ç—Ä–æ–≥–∏–π –±—ç–∫—Ç–µ—Å—Ç

---

## üéØ –ü–õ–ê–ù –î–û–†–ê–ë–û–¢–ö–ò (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã)

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1 (–ö—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è production)
1. **–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å Ensemble –≤ `inference.py`**
   - –°–æ–∑–¥–∞—Ç—å `ensemble.py` –º–æ–¥—É–ª—å
   - –û–±—ä–µ–¥–∏–Ω–∏—Ç—å GARCH + LightGBM –ø—Ä–æ–≥–Ω–æ–∑—ã
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ backtesting

2. **–°–æ–∑–¥–∞—Ç—å API endpoint**
   - REST API –¥–ª—è –ø—Ä–æ–≥–Ω–æ–∑–æ–≤
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Go backend

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2 (–£–ª—É—á—à–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞)
3. **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å Intraday H1 —Ñ–∏—á–∏**
   - –°–æ–∑–¥–∞—Ç—å `intraday_features.py`
   - –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ `feature_builder.py`
   - –ü–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å –¥–∞–Ω–Ω—ã–µ

4. **–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å SHAP**
   - Production –º–æ–¥—É–ª—å
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ API response

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3 (–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ)
5. **Intraday Adjuster**
6. **Early Warning System**

---

## üìä –§–ò–ù–ê–õ–¨–ù–ê–Ø –û–¶–ï–ù–ö–ê

**–û–±—â–µ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ö–µ–º–µ: ~65%**

**–†–∞–∑–±–∏–≤–∫–∞:**
- ‚úÖ **Core Features:** 95% (–æ—Ç–ª–∏—á–Ω–æ!)
- üü° **Models:** 70% (—Ö–æ—Ä–æ—à–æ, –Ω–æ –Ω—É–∂–µ–Ω Ensemble)
- ‚ùå **Advanced:** 20% (Intraday, Adjuster, EWS)
- üü° **Output:** 50% (SHAP –µ—Å—Ç—å, API –Ω–µ—Ç)

**–í–µ—Ä–¥–∏–∫—Ç:** –°–∏—Å—Ç–µ–º–∞ –∏–º–µ–µ—Ç **—Å–æ–ª–∏–¥–Ω—ã–π —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç**, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏ –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Å—Ö–µ–º–µ. –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ, –Ω–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –∫–ª—é—á–µ–≤—ã–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã (Ensemble, API, Intraday).

---

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –°—Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–µ 1** –¥–ª—è production-ready —Å–∏—Å—Ç–µ–º—ã, –∑–∞—Ç–µ–º –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å —É–ª—É—á—à–µ–Ω–∏—è –∏–∑ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞ 2.

