# üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è ML Pipeline

**–í–µ—Ä—Å–∏—è:** 2.0  
**–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 2025-12-06

---

## üìñ –û—Å–Ω–æ–≤–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

### 1. [SYSTEM_STRUCTURE.md](SYSTEM_STRUCTURE.md)
**–ü–æ–ª–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ–∫—É—â–µ–π —Å–∏—Å—Ç–µ–º—ã**

–°–æ–¥–µ—Ä–∂–∏—Ç:
- –ü–æ–ª–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π
- –û–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π
- –ü–æ—Ç–æ–∫–∏ –¥–∞–Ω–Ω—ã—Ö
- Production –º–æ–¥—É–ª–∏ –∏ –∏—Ö —Ñ—É–Ω–∫—Ü–∏–∏

**–ö–æ–≥–¥–∞ —á–∏—Ç–∞—Ç—å:** –î–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã —Å–∏—Å—Ç–µ–º—ã

---

### 2. [SYSTEM_GUIDE.md](SYSTEM_GUIDE.md)
**–ì–∞–π–¥ –ø–æ –≤–∑–∞–∏–º–æ—Å–≤—è–∑—è–º –∏ —Ä–∞–±–æ—Ç–µ —Å–∏—Å—Ç–µ–º—ã**

–°–æ–¥–µ—Ä–∂–∏—Ç:
- –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞ (–ø–æ—à–∞–≥–æ–≤–æ)
- –í–∑–∞–∏–º–æ—Å–≤—è–∑–∏ –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏
- –¢–∏–ø–∏—á–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- –ü–æ—Ç–æ–∫–∏ –¥–∞–Ω–Ω—ã—Ö (–¥–µ—Ç–∞–ª—å–Ω–æ)
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- –û—Ç–ª–∞–¥–∫–∞ –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

**–ö–æ–≥–¥–∞ —á–∏—Ç–∞—Ç—å:** –î–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –∫–∞–∫ —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –∫–∞–∫ –µ—ë –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

---

### 3. [DEVELOPMENT_ROADMAP.md](DEVELOPMENT_ROADMAP.md)
**–†–æ—É–¥–º–∞–ø –¥–µ–≤–µ–ª–æ–ø–µ—Ä–∞ - —á—Ç–æ –æ—Å—Ç–∞–ª–æ—Å—å —Å–¥–µ–ª–∞—Ç—å**

–°–æ–¥–µ—Ä–∂–∏—Ç:
- –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ –∑–∞–¥–∞—á–∏ (–∫—Ä–∏—Ç–∏—á–Ω—ã–µ, –≤–∞–∂–Ω—ã–µ, –∂–µ–ª–∞—Ç–µ–ª—å–Ω—ã–µ)
- –î–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞
- –ü—Ä–æ—Ü–µ—Å—Å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

**–ö–æ–≥–¥–∞ —á–∏—Ç–∞—Ç—å:** –î–ª—è –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ –ø–æ–Ω–∏–º–∞–Ω–∏—è —á—Ç–æ –¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ

---

### 4. [CURRENT_STATUS.md](CURRENT_STATUS.md)
**–¢–µ–∫—É—â–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å–∏—Å—Ç–µ–º—ã –∏ –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏**

–°–æ–¥–µ—Ä–∂–∏—Ç:
- –ê–∫—Ç—É–∞–ª—å–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –º–æ–¥–µ–ª–∏
- –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ –∏—Ö —Ä–µ—à–µ–Ω–∏—è
- –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
- –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ö–æ—Ä–æ—à–æ
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é

**–ö–æ–≥–¥–∞ —á–∏—Ç–∞—Ç—å:** –î–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã –∏ –ø—Ä–æ–±–ª–µ–º

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
cd ML
venv\Scripts\activate
pip install -r requirements.txt
```

### 2. –ó–∞–ø—É—Å–∫ –ø–æ–ª–Ω–æ–≥–æ pipeline

```bash
# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ + –û–±—É—á–µ–Ω–∏–µ + –ò–Ω—Ñ–µ—Ä–µ–Ω—Å
python scripts/run_full_pipeline.py

# –¢–æ–ª—å–∫–æ –æ–±—É—á–µ–Ω–∏–µ (features –≥–æ—Ç–æ–≤—ã)
python scripts/run_full_pipeline.py --skip-features --preset MORE_TRAIN
```

### 3. –í–∞–ª–∏–¥–∞—Ü–∏—è –º–æ–¥–µ–ª–∏

```bash
python scripts/validate_model.py
```

### 4. –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π

```bash
# –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Å—Ç–∞—Ä—ã–π –æ—Ç—á—ë—Ç
copy reports\validation_report.csv reports\validation_report_baseline.csv

# –û–±—É—á–∏—Ç–µ –Ω–æ–≤—É—é –º–æ–¥–µ–ª—å
python scripts/run_full_pipeline.py --skip-features --preset REGULARIZED

# –°—Ä–∞–≤–Ω–∏—Ç–µ
python scripts/compare_models.py
```

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
ML/
‚îú‚îÄ‚îÄ scripts/          # –ò—Å–ø–æ–ª–Ω—è–µ–º—ã–µ —Å–∫—Ä–∏–ø—Ç—ã
‚îú‚îÄ‚îÄ features/         # Production: –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–∏–∑–Ω–∞–∫–æ–≤
‚îú‚îÄ‚îÄ models/           # Production: –º–æ–¥–µ–ª–∏
‚îú‚îÄ‚îÄ 03_models/       # –û–±—É—á–µ–Ω–∏–µ –∏ –∏–Ω—Ñ–µ—Ä–µ–Ω—Å
‚îú‚îÄ‚îÄ config/           # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (training_config.py - –≥–ª–∞–≤–Ω—ã–π!)
‚îú‚îÄ‚îÄ data/             # –î–∞–Ω–Ω—ã–µ
‚îú‚îÄ‚îÄ reports/          # –û—Ç—á—ë—Ç—ã –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
‚îî‚îÄ‚îÄ docs/             # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (—ç—Ç–∞ –ø–∞–ø–∫–∞)
```

**–ü–æ–¥—Ä–æ–±–Ω–µ–µ:** [SYSTEM_STRUCTURE.md](SYSTEM_STRUCTURE.md)

---

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

**–í—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–±—É—á–µ–Ω–∏—è –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ:** `config/training_config.py`

**–ß—Ç–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è:**
- Train/Test split (–¥–∞—Ç–∞ cutoff)
- –ì–∏–ø–µ—Ä–ø–∞—Ä–∞–º–µ—Ç—Ä—ã LightGBM
- –ö–≤–∞–Ω—Ç–∏–ª–∏ –¥–ª—è –ø—Ä–æ–≥–Ω–æ–∑–∞
- –ò—Å–∫–ª—é—á–∞–µ–º—ã–µ —Ç–∏–∫–µ—Ä—ã
- –ü—Ä–µ—Å–µ—Ç—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

**–ü—Ä–µ—Å–µ—Ç—ã:**
- `BASELINE` - –±–∞–∑–æ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (60/40 split)
- `MORE_TRAIN` - –±–æ–ª—å—à–µ train –¥–∞–Ω–Ω—ã—Ö (70/30 split)
- `REGULARIZED` - —Å–∏–ª—å–Ω–∞—è —Ä–µ–≥—É–ª—è—Ä–∏–∑–∞—Ü–∏—è
- `NO_TICKER` - –±–µ–∑ ticker_id –ø—Ä–∏–∑–Ω–∞–∫–∞

---

## üìä –¢–µ–∫—É—â–∏–µ –º–µ—Ç—Ä–∏–∫–∏

**–ú–æ–¥–µ–ª—å:** MORE_TRAIN (70/30 split, cutoff: 2024-06-01)

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|---------|----------|--------|
| Coverage 68% | 66.0% | ‚úÖ |
| MAE | 0.120 | ‚ö†Ô∏è |
| Correlation | 0.489 | ‚ùå |
| Bias | +4.14% | ‚ö†Ô∏è |

**–ü–æ–¥—Ä–æ–±–Ω–µ–µ:** [CURRENT_STATUS.md](CURRENT_STATUS.md)

---

## üîß –û—Å–Ω–æ–≤–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã

| –°–∫—Ä–∏–ø—Ç | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|--------|------------|
| `scripts/run_full_pipeline.py` | –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª: Features ‚Üí Training ‚Üí Inference |
| `scripts/validate_model.py` | –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ –º–æ–¥–µ–ª–∏ |
| `scripts/compare_models.py` | –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤ |

**–ü–æ–¥—Ä–æ–±–Ω–µ–µ:** `scripts/README.md`

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã:** [SYSTEM_STRUCTURE.md](SYSTEM_STRUCTURE.md)
- **–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:** [SYSTEM_GUIDE.md](SYSTEM_GUIDE.md)
- **–ß—Ç–æ –¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ:** [DEVELOPMENT_ROADMAP.md](DEVELOPMENT_ROADMAP.md)
- **–¢–µ–∫—É—â–∏–µ –ø—Ä–æ–±–ª–µ–º—ã:** [CURRENT_STATUS.md](CURRENT_STATUS.md)

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `--skip-features`** –µ—Å–ª–∏ –ø—Ä–∏–∑–Ω–∞–∫–∏ —É–∂–µ –≥–æ—Ç–æ–≤—ã
2. **–°–æ—Ö—Ä–∞–Ω—è–π—Ç–µ —Å—Ç–∞—Ä—ã–µ –æ—Ç—á—ë—Ç—ã** –ø–µ—Ä–µ–¥ –Ω–æ–≤—ã–º–∏ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–º–∏
3. **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –≤ `config/training_config.py`**
4. **–ú–æ–¥–µ–ª—å –¥–µ–≥—Ä–∞–¥–∏—Ä—É–µ—Ç –Ω–∞ –Ω–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö** - –Ω—É–∂–µ–Ω rolling retraining

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2025-12-06
